다음은 카드추천 알고리즘입니다. RFM모델을 기반으로 활성예측고객과 휴면예측고객을 나누어 소비패턴별로 군집화한 후, 휴면예측고객에 대해 소비패턴 기반 카드 추천 알고리즘을 구성했습니다. 대략적인 개요는 다음과 같습니다.
저희는 앞서 분류한 RFM 모델의 계층 중 잠재충성고객과 놓치면 안 될 고객에 집중했습니다. 잠재충성고객과 놓치면 안 될 고객 중 활성고객을 분류되는 고객들을 대상으로 쇼핑이용금액, 해외이용금액 등의 소비패턴을 보여줄 수 있는 칼럼들을 활용해 고객들의 소비패턴을 군집화했습니다.

군집화 방법으로 코사인유사도 기반 K-means 클러스터링, 유클리디안 거리기반 K-means 클러스터링, 계층적 군집분석, DBSCAN 네 가지 방법을 사용해 군집을 살펴보았습니다. 그 결과, 코사인 유사도 기반 K 평균 군집분석을 사용했을 때, 군집별로 소비패턴이 명확히 나뉘는 것을 확인할 수 있었습니다. 코사인 유사도는 두 벡터 간의 코사인 각도를 이용하여 구할 수 있는 두 벡터의 유사도를 의미합니다. 두 벡터의 방향이 완전히 동일한 경우에는 1의 값을 가지며, 90°의 각을 이루면 0, 180°로 반대의 방향을 가지면 -1의 값을 갖게 됩니다. 코사인 유사도를 활용한 이유는 비슷한 소비패턴을 가지고 있는 사용자들을 하나의 군집으로 설정하기 위함입니다. 

저희는 k값 조정을 통해 군집이 가장 잘 묶이는 포인트를 찾아낸 후 군집화했습니다. 다음 사진은 군집별 소비패턴을 시각화한 그래프입니다. 1번군집의 경우, ----, 4번 군집의 경우----한 특성을 파악할 수 있었습니다.
이러한 과정을 통해 생성한 클러스터링 모델을 휴면예측고객에 fit 시켜 이들이 본인의 소비패턴에 맞는 카드를 사용하고 있는지를 확인하고, 소비패턴에 최적화된 카드를 추천해주는 알고리즘을 구현했습니다. 

회원번호를 입력하면, 현재 사용하고 있는 카드와 해당 고객이 속한 군집에서 많이 사용하고 있는 카드 1,2,3순위, 그리고 본인이 속한 군집의 주요 소비분야, 소비분야에 최적화된 카드를 반환해줍니다.

소비분야에 최적화된 카드를 파악하기 위해서 하나카드에서 제공받은 CardCategory Dataset을 사용했습니다.

승호오빠 카드분석설명-----
